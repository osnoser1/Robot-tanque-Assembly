/*
 * arduino_definitions.inc
 *
 * Created: 2/18/2015 10:47:47 PM
 * Author: AlfonsoAndr√©s
 */ 

 #ifndef _ARDUINO_DEFINITIONS_INC_
 #define _ARDUINO_DEFINITIONS_INC_

#define HIGHH 0x1
#define LOWW 0x0

#define INPUT 0x0
#define OUTPUT 0x1
#define INPUT_PULLUP 0x2

#ifndef _BV
#define _BV(n) 1<<(n)
#endif

#define CORE_NUM_TOTAL_PINS 46
#define CORE_NUM_DIGITAL 38
#define CORE_NUM_ANALOG 8
#define CORE_NUM_PWM 9
#define CORE_NUM_INTERRUPT 8
#define PIN_D0 0
#define PIN_D1 1
#define PIN_D2 2
#define PIN_D3 3
#define PIN_D4 4
#define PIN_D5 5
#define PIN_D6 6
#define PIN_D7 7
#define PIN_E0 8
#define PIN_E1 9
#define PIN_C0 10
#define PIN_C1 11
#define PIN_C2 12
#define PIN_C3 13
#define PIN_C4 14
#define PIN_C5 15
#define PIN_C6 16
#define PIN_C7 17
#define PIN_E6 18
#define PIN_E7 19
#define PIN_SS 20
#define PIN_SCLK 21
#define PIN_MOSI 22
#define PIN_MISO 23
#define PIN_B0 20
#define PIN_B1 21
#define PIN_B2 22
#define PIN_B3 23
#define PIN_B4 24
#define PIN_B5 25
#define PIN_B6 26
#define PIN_B7 27
#define PIN_A0 28
#define PIN_A1 29
#define PIN_A2 30
#define PIN_A3 31
#define PIN_A4 32
#define PIN_A5 33
#define PIN_A6 34
#define PIN_A7 35
#define PIN_E4 36
#define PIN_E5 37
#define PIN_F0 38
#define PIN_F1 39
#define PIN_F2 40
#define PIN_F3 41
#define PIN_F4 42
#define PIN_F5 43
#define PIN_F6 44
#define PIN_F7 45
#define CORE_PIN0_BIT 0
#define CORE_PIN1_BIT 1
#define CORE_PIN2_BIT 2
#define CORE_PIN3_BIT 3
#define CORE_PIN4_BIT 4
#define CORE_PIN5_BIT 5
#define CORE_PIN6_BIT 6
#define CORE_PIN7_BIT 7
#define CORE_PIN8_BIT 0
#define CORE_PIN9_BIT 1
#define CORE_PIN10_BIT 0
#define CORE_PIN11_BIT 1
#define CORE_PIN12_BIT 2
#define CORE_PIN13_BIT 3
#define CORE_PIN14_BIT 4
#define CORE_PIN15_BIT 5
#define CORE_PIN16_BIT 6
#define CORE_PIN17_BIT 7
#define CORE_PIN18_BIT 6
#define CORE_PIN19_BIT 7
#define CORE_PIN20_BIT 0
#define CORE_PIN21_BIT 1
#define CORE_PIN22_BIT 2
#define CORE_PIN23_BIT 3
#define CORE_PIN24_BIT 4
#define CORE_PIN25_BIT 5
#define CORE_PIN26_BIT 6
#define CORE_PIN27_BIT 7
#define CORE_PIN28_BIT 0
#define CORE_PIN29_BIT 1
#define CORE_PIN30_BIT 2
#define CORE_PIN31_BIT 3
#define CORE_PIN32_BIT 4
#define CORE_PIN33_BIT 5
#define CORE_PIN34_BIT 6
#define CORE_PIN35_BIT 7
#define CORE_PIN36_BIT 4
#define CORE_PIN37_BIT 5
#define CORE_PIN38_BIT 0
#define CORE_PIN39_BIT 1
#define CORE_PIN40_BIT 2
#define CORE_PIN41_BIT 3
#define CORE_PIN42_BIT 4
#define CORE_PIN43_BIT 5
#define CORE_PIN44_BIT 6
#define CORE_PIN45_BIT 7
#define CORE_PIN0_BITMASK 1<<CORE_PIN0_BIT
#define CORE_PIN1_BITMASK 1<<CORE_PIN1_BIT
#define CORE_PIN2_BITMASK 1<<CORE_PIN2_BIT
#define CORE_PIN3_BITMASK 1<<CORE_PIN3_BIT
#define CORE_PIN4_BITMASK 1<<CORE_PIN4_BIT
#define CORE_PIN5_BITMASK 1<<CORE_PIN5_BIT
#define CORE_PIN6_BITMASK 1<<CORE_PIN6_BIT
#define CORE_PIN7_BITMASK 1<<CORE_PIN7_BIT
#define CORE_PIN8_BITMASK 1<<CORE_PIN8_BIT
#define CORE_PIN9_BITMASK 1<<CORE_PIN9_BIT
#define CORE_PIN10_BITMASK 1<<CORE_PIN10_BIT
#define CORE_PIN11_BITMASK 1<<CORE_PIN11_BIT
#define CORE_PIN12_BITMASK 1<<CORE_PIN12_BIT
#define CORE_PIN13_BITMASK 1<<CORE_PIN13_BIT
#define CORE_PIN14_BITMASK 1<<CORE_PIN14_BIT
#define CORE_PIN15_BITMASK 1<<CORE_PIN15_BIT
#define CORE_PIN16_BITMASK 1<<CORE_PIN16_BIT
#define CORE_PIN17_BITMASK 1<<CORE_PIN17_BIT
#define CORE_PIN18_BITMASK 1<<CORE_PIN18_BIT
#define CORE_PIN19_BITMASK 1<<CORE_PIN19_BIT
#define CORE_PIN20_BITMASK 1<<CORE_PIN20_BIT
#define CORE_PIN21_BITMASK 1<<CORE_PIN21_BIT
#define CORE_PIN22_BITMASK 1<<CORE_PIN22_BIT
#define CORE_PIN23_BITMASK 1<<CORE_PIN23_BIT
#define CORE_PIN24_BITMASK 1<<CORE_PIN24_BIT
#define CORE_PIN25_BITMASK 1<<CORE_PIN25_BIT
#define CORE_PIN26_BITMASK 1<<CORE_PIN26_BIT
#define CORE_PIN27_BITMASK 1<<CORE_PIN27_BIT
#define CORE_PIN28_BITMASK 1<<CORE_PIN28_BIT
#define CORE_PIN29_BITMASK 1<<CORE_PIN29_BIT
#define CORE_PIN30_BITMASK 1<<CORE_PIN30_BIT
#define CORE_PIN31_BITMASK 1<<CORE_PIN31_BIT
#define CORE_PIN32_BITMASK 1<<CORE_PIN32_BIT
#define CORE_PIN33_BITMASK 1<<CORE_PIN33_BIT
#define CORE_PIN34_BITMASK 1<<CORE_PIN34_BIT
#define CORE_PIN35_BITMASK 1<<CORE_PIN35_BIT
#define CORE_PIN36_BITMASK 1<<CORE_PIN36_BIT
#define CORE_PIN37_BITMASK 1<<CORE_PIN37_BIT
#define CORE_PIN38_BITMASK 1<<CORE_PIN38_BIT
#define CORE_PIN39_BITMASK 1<<CORE_PIN39_BIT
#define CORE_PIN40_BITMASK 1<<CORE_PIN40_BIT
#define CORE_PIN41_BITMASK 1<<CORE_PIN41_BIT
#define CORE_PIN42_BITMASK 1<<CORE_PIN42_BIT
#define CORE_PIN43_BITMASK 1<<CORE_PIN43_BIT
#define CORE_PIN44_BITMASK 1<<CORE_PIN44_BIT
#define CORE_PIN45_BITMASK 1<<CORE_PIN45_BIT
#define CORE_PIN0_PORTREG PORTD
#define CORE_PIN1_PORTREG PORTD
#define CORE_PIN2_PORTREG PORTD
#define CORE_PIN3_PORTREG PORTD
#define CORE_PIN4_PORTREG PORTD
#define CORE_PIN5_PORTREG PORTD
#define CORE_PIN6_PORTREG PORTD
#define CORE_PIN7_PORTREG PORTD
#define CORE_PIN8_PORTREG PORTE
#define CORE_PIN9_PORTREG PORTE
#define CORE_PIN10_PORTREG PORTC
#define CORE_PIN11_PORTREG PORTC
#define CORE_PIN12_PORTREG PORTC
#define CORE_PIN13_PORTREG PORTC
#define CORE_PIN14_PORTREG PORTC
#define CORE_PIN15_PORTREG PORTC
#define CORE_PIN16_PORTREG PORTC
#define CORE_PIN17_PORTREG PORTC
#define CORE_PIN18_PORTREG PORTE
#define CORE_PIN19_PORTREG PORTE
#define CORE_PIN20_PORTREG PORTB
#define CORE_PIN21_PORTREG PORTB
#define CORE_PIN22_PORTREG PORTB
#define CORE_PIN23_PORTREG PORTB
#define CORE_PIN24_PORTREG PORTB
#define CORE_PIN25_PORTREG PORTB
#define CORE_PIN26_PORTREG PORTB
#define CORE_PIN27_PORTREG PORTB
#define CORE_PIN28_PORTREG PORTA
#define CORE_PIN29_PORTREG PORTA
#define CORE_PIN30_PORTREG PORTA
#define CORE_PIN31_PORTREG PORTA
#define CORE_PIN32_PORTREG PORTA
#define CORE_PIN33_PORTREG PORTA
#define CORE_PIN34_PORTREG PORTA
#define CORE_PIN35_PORTREG PORTA
#define CORE_PIN36_PORTREG PORTE
#define CORE_PIN37_PORTREG PORTE
#define CORE_PIN38_PORTREG PORTF
#define CORE_PIN39_PORTREG PORTF
#define CORE_PIN40_PORTREG PORTF
#define CORE_PIN41_PORTREG PORTF
#define CORE_PIN42_PORTREG PORTF
#define CORE_PIN43_PORTREG PORTF
#define CORE_PIN44_PORTREG PORTF
#define CORE_PIN45_PORTREG PORTF
#define CORE_PIN0_DDRREG DDRD
#define CORE_PIN1_DDRREG DDRD
#define CORE_PIN2_DDRREG DDRD
#define CORE_PIN3_DDRREG DDRD
#define CORE_PIN4_DDRREG DDRD
#define CORE_PIN5_DDRREG DDRD
#define CORE_PIN6_DDRREG DDRD
#define CORE_PIN7_DDRREG DDRD
#define CORE_PIN8_DDRREG DDRE
#define CORE_PIN9_DDRREG DDRE
#define CORE_PIN10_DDRREG DDRC
#define CORE_PIN11_DDRREG DDRC
#define CORE_PIN12_DDRREG DDRC
#define CORE_PIN13_DDRREG DDRC
#define CORE_PIN14_DDRREG DDRC
#define CORE_PIN15_DDRREG DDRC
#define CORE_PIN16_DDRREG DDRC
#define CORE_PIN17_DDRREG DDRC
#define CORE_PIN18_DDRREG DDRE
#define CORE_PIN19_DDRREG DDRE
#define CORE_PIN20_DDRREG DDRB
#define CORE_PIN21_DDRREG DDRB
#define CORE_PIN22_DDRREG DDRB
#define CORE_PIN23_DDRREG DDRB
#define CORE_PIN24_DDRREG DDRB
#define CORE_PIN25_DDRREG DDRB
#define CORE_PIN26_DDRREG DDRB
#define CORE_PIN27_DDRREG DDRB
#define CORE_PIN28_DDRREG DDRA
#define CORE_PIN29_DDRREG DDRA
#define CORE_PIN30_DDRREG DDRA
#define CORE_PIN31_DDRREG DDRA
#define CORE_PIN32_DDRREG DDRA
#define CORE_PIN33_DDRREG DDRA
#define CORE_PIN34_DDRREG DDRA
#define CORE_PIN35_DDRREG DDRA
#define CORE_PIN36_DDRREG DDRE
#define CORE_PIN37_DDRREG DDRE
#define CORE_PIN38_DDRREG DDRF
#define CORE_PIN39_DDRREG DDRF
#define CORE_PIN40_DDRREG DDRF
#define CORE_PIN41_DDRREG DDRF
#define CORE_PIN42_DDRREG DDRF
#define CORE_PIN43_DDRREG DDRF
#define CORE_PIN44_DDRREG DDRF
#define CORE_PIN45_DDRREG DDRF
#define CORE_PIN0_PINREG PIND
#define CORE_PIN1_PINREG PIND
#define CORE_PIN2_PINREG PIND
#define CORE_PIN3_PINREG PIND
#define CORE_PIN4_PINREG PIND
#define CORE_PIN5_PINREG PIND
#define CORE_PIN6_PINREG PIND
#define CORE_PIN7_PINREG PIND
#define CORE_PIN8_PINREG PINE
#define CORE_PIN9_PINREG PINE
#define CORE_PIN10_PINREG PINC
#define CORE_PIN11_PINREG PINC
#define CORE_PIN12_PINREG PINC
#define CORE_PIN13_PINREG PINC
#define CORE_PIN14_PINREG PINC
#define CORE_PIN15_PINREG PINC
#define CORE_PIN16_PINREG PINC
#define CORE_PIN17_PINREG PINC
#define CORE_PIN18_PINREG PINE
#define CORE_PIN19_PINREG PINE
#define CORE_PIN20_PINREG PINB
#define CORE_PIN21_PINREG PINB
#define CORE_PIN22_PINREG PINB
#define CORE_PIN23_PINREG PINB
#define CORE_PIN24_PINREG PINB
#define CORE_PIN25_PINREG PINB
#define CORE_PIN26_PINREG PINB
#define CORE_PIN27_PINREG PINB
#define CORE_PIN28_PINREG PINA
#define CORE_PIN29_PINREG PINA
#define CORE_PIN30_PINREG PINA
#define CORE_PIN31_PINREG PINA
#define CORE_PIN32_PINREG PINA
#define CORE_PIN33_PINREG PINA
#define CORE_PIN34_PINREG PINA
#define CORE_PIN35_PINREG PINA
#define CORE_PIN36_PINREG PINE
#define CORE_PIN37_PINREG PINE
#define CORE_PIN38_PINREG PINF
#define CORE_PIN39_PINREG PINF
#define CORE_PIN40_PINREG PINF
#define CORE_PIN41_PINREG PINF
#define CORE_PIN42_PINREG PINF
#define CORE_PIN43_PINREG PINF
#define CORE_PIN44_PINREG PINF
#define CORE_PIN45_PINREG PINF
#define CORE_ADC0_PIN PIN_F0
#define CORE_ADC1_PIN PIN_F1
#define CORE_ADC2_PIN PIN_F2
#define CORE_ADC3_PIN PIN_F3
#define CORE_ADC4_PIN PIN_F4
#define CORE_ADC5_PIN PIN_F5
#define CORE_ADC6_PIN PIN_F6
#define CORE_ADC7_PIN PIN_F7
#define CORE_RXD1_PIN PIN_D2
#define CORE_TXD1_PIN PIN_D3
#define CORE_XCK1_PIN PIN_D5
#define CORE_SDA0_PIN PIN_D1
#define CORE_SCL0_PIN PIN_D0
#define CORE_INT0_PIN PIN_D0
#define CORE_INT1_PIN PIN_D1
#define CORE_INT2_PIN PIN_D2
#define CORE_INT3_PIN PIN_D3
#define CORE_INT4_PIN PIN_E4
#define CORE_INT5_PIN PIN_E5
#define CORE_INT6_PIN PIN_E6
#define CORE_INT7_PIN PIN_E7
#define CORE_SS0_PIN  PIN_B0
#define CORE_MOSI0_PIN PIN_B2
#define CORE_MISO0_PIN PIN_B3
#define CORE_SCLK0_PIN PIN_B1
#define CORE_T0_PIN PIN_D7
#define CORE_T1_PIN PIN_D6
#define CORE_ICP1_PIN PIN_D4
#define CORE_ICP3_PIN PIN_C7
#define CORE_OC0A_PIN PIN_B7
#define CORE_OC0B_PIN PIN_D0
#define CORE_OC1A_PIN PIN_B5
#define CORE_OC1B_PIN PIN_B6
#define CORE_OC1C_PIN PIN_B7
#define CORE_OC2A_PIN PIN_B4
#define CORE_OC2B_PIN PIN_D1
#define CORE_OC3A_PIN PIN_C6
#define CORE_OC3B_PIN PIN_C5
#define CORE_OC3C_PIN PIN_C4
#define CORE_PCINT0_PIN PIN_B0
#define CORE_PCINT1_PIN PIN_B1
#define CORE_PCINT2_PIN PIN_B2
#define CORE_PCINT3_PIN PIN_B3
#define CORE_PCINT4_PIN PIN_B4
#define CORE_PCINT5_PIN PIN_B5
#define CORE_PCINT6_PIN PIN_B6
#define CORE_PCINT7_PIN PIN_B7
#define CORE_LED0_PIN PIN_D6
#define CORE_PWM0_PIN CORE_OC0B_PIN ; D0, 0
#define CORE_PWM1_PIN CORE_OC2B_PIN ; D1, 1
#define CORE_PWM2_PIN CORE_OC3C_PIN ; C4, 14
#define CORE_PWM3_PIN CORE_OC3B_PIN ; C5, 15
#define CORE_PWM4_PIN CORE_OC3A_PIN ; C6, 16
#define CORE_PWM5_PIN CORE_OC2A_PIN ; B4, 24
#define CORE_PWM6_PIN CORE_OC1A_PIN ; B5, 25
#define CORE_PWM7_PIN CORE_OC1B_PIN ; B6, 26
#define CORE_PWM8_PIN CORE_OC1C_PIN ; B7, 27
#define CORE_ANALOG0_PIN PIN_F0
#define CORE_ANALOG1_PIN PIN_F1
#define CORE_ANALOG2_PIN PIN_F2
#define CORE_ANALOG3_PIN PIN_F3
#define CORE_ANALOG4_PIN PIN_F4
#define CORE_ANALOG5_PIN PIN_F5
#define CORE_ANALOG6_PIN PIN_F6
#define CORE_ANALOG7_PIN PIN_F7
#define SREG_Z_BITMASK 1<<SREG_Z // Buscar donde se usa

#define CORE_BIT(pin) CORE_PIN_CONCATENATE(pin, BIT)
#define CORE_BITMASK(pin) CORE_PIN_CONCATENATE(pin, BITMASK)
#define CORE_PORTREG(pin) CORE_PIN_CONCATENATE(pin, PORTREG)
#define CORE_DDRREG(pin) CORE_PIN_CONCATENATE(pin, DDRREG)
#define CORE_PINREG(pin) CORE_PIN_CONCATENATE(pin, PINREG)
#define CORE_PIN_CONCATENATE(pin, reg) CORE_PIN ## pin ## _ ## reg

// pins_arduino.h
#define A0 CORE_ANALOG0_PIN
#define A1 CORE_ANALOG1_PIN
#define A2 CORE_ANALOG2_PIN
#define A3 CORE_ANALOG3_PIN
#define A4 CORE_ANALOG4_PIN
#define A5 CORE_ANALOG5_PIN
#define A6 CORE_ANALOG6_PIN
#define A7 CORE_ANALOG7_PIN

#define NUM_DIGITAL_PINS                CORE_NUM_TOTAL_PINS
#define NUM_ANALOG_INPUTS               CORE_NUM_ANALOG

// wiring_private.h
#if F_CPU == 16000000
#define ADC_PRESCALER 0x07
#define CPU_PRESCALER 0x00
#elif F_CPU == 8000000
#define ADC_PRESCALER 0x06
#define CPU_PRESCALER 0x01
#elif F_CPU == 4000000
#define ADC_PRESCALER 0x05
#define CPU_PRESCALER 0x02
#elif F_CPU == 2000000
#define ADC_PRESCALER 0x04
#define CPU_PRESCALER 0x03
#elif F_CPU == 1000000
#define ADC_PRESCALER 0x03
#define CPU_PRESCALER 0x04
#else
#error "Teensyduino only supports 16, 8, 4, 2, 1 MHz."
#endif

#ifndef cbi
.MACRO m_cbi
    .if @0 < 64
        in rmp1,@0
        andi rmp1,~_BV(@1)
        out @0,rmp1
    .else
        lds rmp1,@0
        andi rmp1,~_BV(@1)
        sts @0,rmp1
    .endif
.ENDM
#define cbi(sfr, bit) m_cbi sfr,bit

#endif
#ifndef sbi
.MACRO m_sbi
    .if @0 < 64
        in rmp1,@0
        ori rmp1,_BV(@1)
        out @0,rmp1
    .else
        lds rmp1,@0
        ori rmp1,_BV(@1)
        sts @0,rmp1
    .endif
.ENDM
#define sbi(sfr, bit) m_sbi sfr,bit
#endif

// wiring.h

#define clockCyclesPerMicrosecond() ( F_CPU / 1000000 )

// pins_teensy.c

// #ifdef USE_ADC_HIGH_SPEED
// #define DEFAULT_ADCSRB    0x80  // ADHSM
// #define ADC_PRESCALE_ADJUST (-1)
// #else 
#define DEFAULT_ADCSRB    0
#define ADC_PRESCALE_ADJUST 0
// #endif



#if F_CPU == 16000000
  #define TIMER0_MILLIS_INC   1
  #define TIMER0_FRACT_INC  3
  #define TIMER0_MICROS_INC   4
#elif F_CPU == 8000000
  #define TIMER0_MILLIS_INC   2
  #define TIMER0_FRACT_INC  6
  #define TIMER0_MICROS_INC   8
#elif F_CPU == 4000000
  #define TIMER0_MILLIS_INC   4
  #define TIMER0_FRACT_INC  12
  #define TIMER0_MICROS_INC   16
#elif F_CPU == 2000000
  #define TIMER0_MILLIS_INC   8
  #define TIMER0_FRACT_INC  24
  #define TIMER0_MICROS_INC   32
#elif F_CPU == 1000000
  #define TIMER0_MILLIS_INC   16
  #define TIMER0_FRACT_INC  48
  #define TIMER0_MICROS_INC   64
#endif

#define FRACT_MAX (1000 >> 3)

// Personalizado
malloc(tiempoEnMicros, 4)
malloc(tiempoEnMilis, 4)

 #endif
