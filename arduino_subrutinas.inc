/*
 * arduino_subrutinas.inc
 *
 *  Created: 2/7/2015 3:48:11 PM
 *   Author: AlfonsoAndr?s
 */ 

#ifndef _ARDUINO_SUBRUTINAS_INC_
#define _ARDUINO_SUBRUTINAS_INC_

DigitalWriteSub:
	cpi rmp3,HIGHH
	breq HighDigitalWrite
		jmp LowDigitalWrite
	CmpPinDigitalWrite:
		inc rmp1
		cp rmp1,rmp2
		ret
	HighDigitalWrite:
		ldi rmp1,-1
		rcall CmpPinDigitalWrite
		brne PC+3
			sbi CORE_PIN0_PORTREG,CORE_PIN0_BIT
			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
		brne PC+3
			sbi CORE_PIN1_PORTREG,CORE_PIN1_BIT
			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
		brne PC+3
			sbi CORE_PIN2_PORTREG,CORE_PIN2_BIT
			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
		brne PC+3
			sbi CORE_PIN3_PORTREG,CORE_PIN3_BIT
			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
		brne PC+3
			sbi CORE_PIN4_PORTREG,CORE_PIN4_BIT
			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
		brne PC+3
			sbi CORE_PIN5_PORTREG,CORE_PIN5_BIT
			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
		brne PC+3
			sbi CORE_PIN6_PORTREG,CORE_PIN6_BIT
			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			sbi CORE_PIN7_PORTREG,CORE_PIN7_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			sbi CORE_PIN8_PORTREG,CORE_PIN8_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			sbi CORE_PIN9_PORTREG,CORE_PIN9_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			sbi CORE_PIN10_PORTREG,CORE_PIN10_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			sbi CORE_PIN11_PORTREG,CORE_PIN11_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			sbi CORE_PIN12_PORTREG,CORE_PIN12_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			sbi CORE_PIN13_PORTREG,CORE_PIN13_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			sbi CORE_PIN14_PORTREG,CORE_PIN14_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			sbi CORE_PIN15_PORTREG,CORE_PIN15_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			sbi CORE_PIN16_PORTREG,CORE_PIN16_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			sbi CORE_PIN17_PORTREG,CORE_PIN17_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			sbi CORE_PIN18_PORTREG,CORE_PIN18_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			sbi CORE_PIN19_PORTREG,CORE_PIN19_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			sbi CORE_PIN20_PORTREG,CORE_PIN20_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			sbi CORE_PIN21_PORTREG,CORE_PIN21_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			sbi CORE_PIN22_PORTREG,CORE_PIN22_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			sbi CORE_PIN23_PORTREG,CORE_PIN23_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			sbi CORE_PIN24_PORTREG,CORE_PIN24_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			sbi CORE_PIN25_PORTREG,CORE_PIN25_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			sbi CORE_PIN26_PORTREG,CORE_PIN26_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			sbi CORE_PIN27_PORTREG,CORE_PIN27_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			sbi CORE_PIN28_PORTREG,CORE_PIN28_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			sbi CORE_PIN29_PORTREG,CORE_PIN29_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			sbi CORE_PIN30_PORTREG,CORE_PIN30_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			sbi CORE_PIN31_PORTREG,CORE_PIN31_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			sbi CORE_PIN32_PORTREG,CORE_PIN32_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			sbi CORE_PIN33_PORTREG,CORE_PIN33_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			sbi CORE_PIN34_PORTREG,CORE_PIN34_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			sbi CORE_PIN35_PORTREG,CORE_PIN35_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			sbi CORE_PIN36_PORTREG,CORE_PIN36_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			sbi CORE_PIN37_PORTREG,CORE_PIN37_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			sbi CORE_PIN38_PORTREG,CORE_PIN38_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			sbi CORE_PIN39_PORTREG,CORE_PIN39_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			sbi CORE_PIN40_PORTREG,CORE_PIN40_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			sbi CORE_PIN41_PORTREG,CORE_PIN41_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			sbi CORE_PIN42_PORTREG,CORE_PIN42_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			sbi CORE_PIN43_PORTREG,CORE_PIN43_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			sbi CORE_PIN44_PORTREG,CORE_PIN44_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			sbi CORE_PIN45_PORTREG,CORE_PIN45_BIT
   			rjmp EndDigitalWrite
	LowDigitalWrite:
	cpi rmp3,LOWW
	breq LowDigitalWriteSelect
		rjmp EndDigitalWrite
	LowDigitalWriteSelect:
		ldi rmp1,-1
		rcall CmpPinDigitalWrite
	   	brne PC+3
			cbi CORE_PIN0_PORTREG,CORE_PIN0_BIT
			rjmp EndDigitalWrite
	   	rcall CmpPinDigitalWrite
	   	brne PC+3
			cbi CORE_PIN1_PORTREG,CORE_PIN1_BIT
			rjmp EndDigitalWrite
	   	rcall CmpPinDigitalWrite
	   	brne PC+3
			cbi CORE_PIN2_PORTREG,CORE_PIN2_BIT
			rjmp EndDigitalWrite
	   	rcall CmpPinDigitalWrite
	   	brne PC+3
			cbi CORE_PIN3_PORTREG,CORE_PIN3_BIT
			rjmp EndDigitalWrite
	   	rcall CmpPinDigitalWrite
	   	brne PC+3
			cbi CORE_PIN4_PORTREG,CORE_PIN4_BIT
			rjmp EndDigitalWrite
	   	rcall CmpPinDigitalWrite
	   	brne PC+3
			cbi CORE_PIN5_PORTREG,CORE_PIN5_BIT
			rjmp EndDigitalWrite
	   	rcall CmpPinDigitalWrite
	   	brne PC+3
			cbi CORE_PIN6_PORTREG,CORE_PIN6_BIT
			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			cbi CORE_PIN7_PORTREG,CORE_PIN7_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			cbi CORE_PIN8_PORTREG,CORE_PIN8_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			cbi CORE_PIN9_PORTREG,CORE_PIN9_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			cbi CORE_PIN10_PORTREG,CORE_PIN10_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			cbi CORE_PIN11_PORTREG,CORE_PIN11_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			cbi CORE_PIN12_PORTREG,CORE_PIN12_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			cbi CORE_PIN13_PORTREG,CORE_PIN13_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			cbi CORE_PIN14_PORTREG,CORE_PIN14_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			cbi CORE_PIN15_PORTREG,CORE_PIN15_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			cbi CORE_PIN16_PORTREG,CORE_PIN16_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			cbi CORE_PIN17_PORTREG,CORE_PIN17_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			cbi CORE_PIN18_PORTREG,CORE_PIN18_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			cbi CORE_PIN19_PORTREG,CORE_PIN19_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			cbi CORE_PIN20_PORTREG,CORE_PIN20_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			cbi CORE_PIN21_PORTREG,CORE_PIN21_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			cbi CORE_PIN22_PORTREG,CORE_PIN22_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			cbi CORE_PIN23_PORTREG,CORE_PIN23_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			cbi CORE_PIN24_PORTREG,CORE_PIN24_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			cbi CORE_PIN25_PORTREG,CORE_PIN25_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			cbi CORE_PIN26_PORTREG,CORE_PIN26_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			cbi CORE_PIN27_PORTREG,CORE_PIN27_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			cbi CORE_PIN28_PORTREG,CORE_PIN28_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			cbi CORE_PIN29_PORTREG,CORE_PIN29_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			cbi CORE_PIN30_PORTREG,CORE_PIN30_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			cbi CORE_PIN31_PORTREG,CORE_PIN31_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			cbi CORE_PIN32_PORTREG,CORE_PIN32_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			cbi CORE_PIN33_PORTREG,CORE_PIN33_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			cbi CORE_PIN34_PORTREG,CORE_PIN34_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			cbi CORE_PIN35_PORTREG,CORE_PIN35_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			cbi CORE_PIN36_PORTREG,CORE_PIN36_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			cbi CORE_PIN37_PORTREG,CORE_PIN37_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			cbi CORE_PIN38_PORTREG,CORE_PIN38_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			cbi CORE_PIN39_PORTREG,CORE_PIN39_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			cbi CORE_PIN40_PORTREG,CORE_PIN40_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			cbi CORE_PIN41_PORTREG,CORE_PIN41_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			cbi CORE_PIN42_PORTREG,CORE_PIN42_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			cbi CORE_PIN43_PORTREG,CORE_PIN43_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			cbi CORE_PIN44_PORTREG,CORE_PIN44_BIT
   			rjmp EndDigitalWrite
		rcall CmpPinDigitalWrite
   		brne PC+3
   			cbi CORE_PIN45_PORTREG,CORE_PIN45_BIT
   			rjmp EndDigitalWrite
	EndDigitalWrite:
	ret

AnalogWriteSub:
	cpi rmp2,CORE_OC0B_PIN	; TIMER0B
	brne PC+13
		cpi rmp3,0
		breq SetZeroOC0BPin
			out OCR0B,rmp3
			or8(TCCR0A, (1<<COM0B1),i)
			rjmp EndAnalogWrite
		SetZeroOC0BPin:
			cbi CORE_PIN0_PORTREG,CORE_PIN0_BIT
			andOnPort TCCR0A,~(1<<COM0B1)
			rjmp EndAnalogWrite
	cpi rmp2,CORE_OC1A_PIN ; TIMER1A
	brne PC+5
		; Copia de direcciones y máscara en registros temporarles
		ldi XL,OCR1AL
		ldi YL,TCCR1A
		ldi rmp4,(1<<COM1A1)
		rjmp ContinueAnalogWrite1
	cpi rmp2,CORE_OC1B_PIN ; TIMER1B
	brne PC+5
		; Copia de direcciones y máscara en registros temporarles
		ldi XL,OCR1BL
		ldi YL, TCCR1A
		ldi rmp4,(1<<COM1B1)
		rjmp ContinueAnalogWrite1
	cpi rmp2,CORE_OC1C_PIN ; TIMER1C
	brne PC+5
		; Copia de direcciones y máscara en registros temporarles
		ldi XL,OCR1CL
		ldi YL,TCCR1A
		ldi rmp4,(1<<COM1C1)
		rjmp ContinueAnalogWrite1
	cpi rmp2,CORE_OC2A_PIN ; TIMER2A
	brne PC+5
		; Copia de direcciones y máscara en registros temporarles
		ldi XL,OCR2A
		ldi YL,TCCR2A
		ldi rmp4,(1<<COM2A1)
		rjmp ContinueAnalogWrite1
	cpi rmp2,CORE_OC2B_PIN ; TIMER2B
	brne PC+5
		; Copia de direcciones y máscara en registros temporarles
		ldi XL,OCR2B
		ldi YL,TCCR2A
		ldi rmp4,(1<<COM2B1)
		rjmp ContinueAnalogWrite1
	cpi rmp2,CORE_OC3A_PIN ; TIMER3A
	brne PC+5
		ldi XL,OCR3AL
		ldi YL,TCCR3A
		ldi rmp4,(1<<COM3A1)
		rjmp ContinueAnalogWrite1
	cpi rmp2,CORE_OC3B_PIN ; TIMER3B
	brne PC+5
		; Copia de direcciones y máscara en registros temporarles
		ldi XL,OCR3BL
		ldi YL,TCCR3A
		ldi rmp4,(1<<COM3B1)
		rjmp ContinueAnalogWrite1
	cpi rmp2,CORE_OC3C_PIN ; TIMER3C
	brne PC+5
		; Copia de direcciones y máscara en registros temporarles
		ldi XL,OCR3CL
		ldi YL,TCCR3A
		ldi rmp4,(1<<COM3C1)
		rjmp ContinueAnalogWrite1
	rjmp EndAnalogWrite
	ContinueAnalogWrite1:
	; Borra direccion de byte alto en los 2 regustros temporales
	CLR XH
	CLR YH
	; Envia valor rmp3 (pwm) recibido a la dirección almacenada en el registro X
	st X,rmp3
	; Operación or con contenido de dirección con registro rmp1
	ld rmp1,Y
	or rmp1,rmp4
	st Y,rmp1
	EndAnalogWrite:
	ret

; params X Dirección de memoria
; params R17 Pin seleccionado
.equ w_analog_reference = 0x40
.def pinAR = R17
AnalogReadSub:
	; Comparo para comprobar si pin recibido es analógico
	cpi rmp1,PIN_F0
		brlt EndAnalogRead
	mov pinAR,rmp1
	subi pinAR,PIN_F0
	; Creando máscara de pin recibido
	ldi rmp3,1
	ldi rmp1,0
	ForAR1:
		lsl rmp3
		inc rmp1
		cp rmp1,pinAR
		brne ForAR1
	BreakForAR1:
	; DIDR0 |= (1 << pin)
	orOnPortSts DIDR0,rmp3
	ldi rmp1,w_analog_reference
	or rmp1,pinAR
	write8 ADMUX,rmp1
	; Iniciar conversión ADC
	or8(ADCSRA, (1<<ADSC), i)
	; while (ADCSRA & (1<<ADSC)) 
	WhileAR1:
		read8 rmp1,ADCSRA
		andi rmp1,(1<<ADSC)
		cpi rmp1,0
		brne WhileAR1
	EndWhileAR1:
	read8 YL,ADCL
	read8 YH,ADCH
	st X+,YL
	st X,YH
	EndAnalogRead:
	ret

PinModeSub:
	cpi rmp3,OUTPUT
   	breq OutputPinMode
   		rjmp InputPinMode
   	OutputPinMode:
	   	cpi rmp2,0
	   	brne PC+3
			sbi CORE_PIN0_DDRREG,CORE_PIN0_BIT
			rjmp EndPinMode
	   	cpi rmp2,1
	   	brne PC+3
			sbi CORE_PIN1_DDRREG,CORE_PIN1_BIT
			rjmp EndPinMode
	   	cpi rmp2,2
	   	brne PC+3
			sbi CORE_PIN2_DDRREG,CORE_PIN2_BIT
			rjmp EndPinMode
	   	cpi rmp2,3
	   	brne PC+3
			sbi CORE_PIN3_DDRREG,CORE_PIN3_BIT
			rjmp EndPinMode
	   	cpi rmp2,4
	   	brne PC+3
			sbi CORE_PIN4_DDRREG,CORE_PIN4_BIT
			rjmp EndPinMode
	   	cpi rmp2,5
	   	brne PC+3
	   		sbi CORE_PIN5_DDRREG,CORE_PIN5_BIT
			rjmp EndPinMode
	   	cpi rmp2,6
	   	brne PC+3
	   		sbi CORE_PIN6_DDRREG,CORE_PIN6_BIT
			rjmp EndPinMode
		cpi rmp2,7
   		brne PC+3
   			sbi CORE_PIN7_DDRREG,CORE_PIN7_BIT
   			rjmp EndPinMode
		cpi rmp2,8
   		brne PC+3
   			sbi CORE_PIN8_DDRREG,CORE_PIN8_BIT
   			rjmp EndPinMode
		cpi rmp2,9
   		brne PC+3
   			sbi CORE_PIN9_DDRREG,CORE_PIN9_BIT
   			rjmp EndPinMode
		cpi rmp2,10
   		brne PC+3
   			sbi CORE_PIN10_DDRREG,CORE_PIN10_BIT
   			rjmp EndPinMode
		cpi rmp2,11
   		brne PC+3
   			sbi CORE_PIN11_DDRREG,CORE_PIN11_BIT
   			rjmp EndPinMode
		cpi rmp2,12
   		brne PC+3
   			sbi CORE_PIN12_DDRREG,CORE_PIN12_BIT
   			rjmp EndPinMode
		cpi rmp2,13
   		brne PC+3
   			sbi CORE_PIN13_DDRREG,CORE_PIN13_BIT
   			rjmp EndPinMode
		cpi rmp2,14
   		brne PC+3
   			sbi CORE_PIN14_DDRREG,CORE_PIN14_BIT
   			rjmp EndPinMode
		cpi rmp2,15
   		brne PC+3
   			sbi CORE_PIN15_DDRREG,CORE_PIN15_BIT
   			rjmp EndPinMode
		cpi rmp2,16
   		brne PC+3
   			sbi CORE_PIN16_DDRREG,CORE_PIN16_BIT
   			rjmp EndPinMode
		cpi rmp2,17
   		brne PC+3
   			sbi CORE_PIN17_DDRREG,CORE_PIN17_BIT
   			rjmp EndPinMode
		cpi rmp2,18
   		brne PC+3
   			sbi CORE_PIN18_DDRREG,CORE_PIN18_BIT
   			rjmp EndPinMode
		cpi rmp2,19
   		brne PC+3
   			sbi CORE_PIN19_DDRREG,CORE_PIN19_BIT
   			rjmp EndPinMode
		cpi rmp2,20
   		brne PC+3
   			sbi CORE_PIN20_DDRREG,CORE_PIN20_BIT
   			rjmp EndPinMode
		cpi rmp2,21
   		brne PC+3
   			sbi CORE_PIN21_DDRREG,CORE_PIN21_BIT
   			rjmp EndPinMode
		cpi rmp2,22
   		brne PC+3
   			sbi CORE_PIN22_DDRREG,CORE_PIN22_BIT
   			rjmp EndPinMode
		cpi rmp2,23
   		brne PC+3
   			sbi CORE_PIN23_DDRREG,CORE_PIN23_BIT
   			rjmp EndPinMode
		cpi rmp2,24
   		brne PC+3
   			sbi CORE_PIN24_DDRREG,CORE_PIN24_BIT
   			rjmp EndPinMode
		cpi rmp2,25
   		brne PC+3
   			sbi CORE_PIN25_DDRREG,CORE_PIN25_BIT
   			rjmp EndPinMode
		cpi rmp2,26
   		brne PC+3
   			sbi CORE_PIN26_DDRREG,CORE_PIN26_BIT
   			rjmp EndPinMode
		cpi rmp2,27
   		brne PC+3
   			sbi CORE_PIN27_DDRREG,CORE_PIN27_BIT
   			rjmp EndPinMode
		cpi rmp2,28
   		brne PC+3
   			sbi CORE_PIN28_DDRREG,CORE_PIN28_BIT
   			rjmp EndPinMode
		cpi rmp2,29
   		brne PC+3
   			sbi CORE_PIN29_DDRREG,CORE_PIN29_BIT
   			rjmp EndPinMode
		cpi rmp2,30
   		brne PC+3
   			sbi CORE_PIN30_DDRREG,CORE_PIN30_BIT
   			rjmp EndPinMode
		cpi rmp2,31
   		brne PC+3
   			sbi CORE_PIN31_DDRREG,CORE_PIN31_BIT
   			rjmp EndPinMode
		cpi rmp2,32
   		brne PC+3
   			sbi CORE_PIN32_DDRREG,CORE_PIN32_BIT
   			rjmp EndPinMode
		cpi rmp2,33
   		brne PC+3
   			sbi CORE_PIN33_DDRREG,CORE_PIN33_BIT
   			rjmp EndPinMode
		cpi rmp2,34
   		brne PC+3
   			sbi CORE_PIN34_DDRREG,CORE_PIN34_BIT
   			rjmp EndPinMode
		cpi rmp2,35
   		brne PC+3
   			sbi CORE_PIN35_DDRREG,CORE_PIN35_BIT
   			rjmp EndPinMode
		cpi rmp2,36
   		brne PC+3
   			sbi CORE_PIN36_DDRREG,CORE_PIN36_BIT
   			rjmp EndPinMode
		cpi rmp2,37
   		brne PC+3
   			sbi CORE_PIN37_DDRREG,CORE_PIN37_BIT
   			rjmp EndPinMode
		cpi rmp2,38
   		brne PC+3
   			sbi CORE_PIN38_DDRREG,CORE_PIN38_BIT
   			rjmp EndPinMode
		cpi rmp2,39
   		brne PC+3
   			sbi CORE_PIN39_DDRREG,CORE_PIN39_BIT
   			rjmp EndPinMode
		cpi rmp2,40
   		brne PC+3
   			sbi CORE_PIN40_DDRREG,CORE_PIN40_BIT
   			rjmp EndPinMode
		cpi rmp2,41
   		brne PC+3
   			sbi CORE_PIN41_DDRREG,CORE_PIN41_BIT
   			rjmp EndPinMode
		cpi rmp2,42
   		brne PC+3
   			sbi CORE_PIN42_DDRREG,CORE_PIN42_BIT
   			rjmp EndPinMode
		cpi rmp2,43
   		brne PC+3
   			sbi CORE_PIN43_DDRREG,CORE_PIN43_BIT
   			rjmp EndPinMode
		cpi rmp2,44
   		brne PC+3
   			sbi CORE_PIN44_DDRREG,CORE_PIN44_BIT
   			rjmp EndPinMode
		cpi rmp2,45
   		brne PC+3
   			sbi CORE_PIN45_DDRREG,CORE_PIN45_BIT
   			rjmp EndPinMode
	InputPinMode:
	cpi rmp3,INPUT
	breq InputPinModeSelect
		rjmp InputPullUpPinMode
	InputPinModeSelect:
		cpi rmp2,0
		brne PC+4
			cbi CORE_PIN0_DDRREG,CORE_PIN0_BIT
			cbi CORE_PIN0_PORTREG,CORE_PIN0_BIT
			rjmp ContinuePinMode
		cpi rmp2,1
		brne PC+4
			cbi CORE_PIN1_DDRREG,CORE_PIN1_BIT
			cbi CORE_PIN1_PORTREG,CORE_PIN1_BIT
			rjmp ContinuePinMode
		cpi rmp2,2
		brne PC+4
			cbi CORE_PIN2_DDRREG,CORE_PIN2_BIT
			cbi CORE_PIN2_PORTREG,CORE_PIN2_BIT
			rjmp ContinuePinMode
		cpi rmp2,3
		brne PC+4
			cbi CORE_PIN3_DDRREG,CORE_PIN3_BIT
			cbi CORE_PIN3_PORTREG,CORE_PIN3_BIT
			rjmp ContinuePinMode
		cpi rmp2,4
		brne PC+4
			cbi CORE_PIN4_DDRREG,CORE_PIN4_BIT
			cbi CORE_PIN4_PORTREG,CORE_PIN4_BIT
			rjmp ContinuePinMode
		cpi rmp2,5
		brne PC+4
			cbi CORE_PIN5_DDRREG,CORE_PIN5_BIT
			cbi CORE_PIN5_PORTREG,CORE_PIN5_BIT
			rjmp ContinuePinMode
		cpi rmp2,6
		brne PC+4
			cbi CORE_PIN6_DDRREG,CORE_PIN6_BIT
			cbi CORE_PIN6_PORTREG,CORE_PIN6_BIT
			rjmp ContinuePinMode
		cpi rmp2,7
		brne PC+4
			cbi CORE_PIN7_DDRREG,CORE_PIN7_BIT
			cbi CORE_PIN7_PORTREG,CORE_PIN7_BIT
			rjmp ContinuePinMode
		cpi rmp2,8
		brne PC+4
			cbi CORE_PIN8_DDRREG,CORE_PIN8_BIT
			cbi CORE_PIN8_PORTREG,CORE_PIN8_BIT
			rjmp ContinuePinMode
		cpi rmp2,9
		brne PC+4
			cbi CORE_PIN9_DDRREG,CORE_PIN9_BIT
			cbi CORE_PIN9_PORTREG,CORE_PIN9_BIT
			rjmp ContinuePinMode
		cpi rmp2,10
		brne PC+4
			cbi CORE_PIN10_DDRREG,CORE_PIN10_BIT
			cbi CORE_PIN10_PORTREG,CORE_PIN10_BIT
			rjmp ContinuePinMode
		cpi rmp2,11
		brne PC+4
			cbi CORE_PIN11_DDRREG,CORE_PIN11_BIT
			cbi CORE_PIN11_PORTREG,CORE_PIN11_BIT
			rjmp ContinuePinMode
		cpi rmp2,12
		brne PC+4
			cbi CORE_PIN12_DDRREG,CORE_PIN12_BIT
			cbi CORE_PIN12_PORTREG,CORE_PIN12_BIT
			rjmp ContinuePinMode
		cpi rmp2,13
		brne PC+4
			cbi CORE_PIN13_DDRREG,CORE_PIN13_BIT
			cbi CORE_PIN13_PORTREG,CORE_PIN13_BIT
			rjmp ContinuePinMode
		cpi rmp2,14
		brne PC+4
			cbi CORE_PIN14_DDRREG,CORE_PIN14_BIT
			cbi CORE_PIN14_PORTREG,CORE_PIN14_BIT
			rjmp ContinuePinMode
		cpi rmp2,15
		brne PC+4
			cbi CORE_PIN15_DDRREG,CORE_PIN15_BIT
			cbi CORE_PIN15_PORTREG,CORE_PIN15_BIT
			rjmp ContinuePinMode
		cpi rmp2,16
		brne PC+4
			cbi CORE_PIN16_DDRREG,CORE_PIN16_BIT
			cbi CORE_PIN16_PORTREG,CORE_PIN16_BIT
			rjmp ContinuePinMode
		cpi rmp2,17
		brne PC+4
			cbi CORE_PIN17_DDRREG,CORE_PIN17_BIT
			cbi CORE_PIN17_PORTREG,CORE_PIN17_BIT
			rjmp ContinuePinMode
		cpi rmp2,18
		brne PC+4
			cbi CORE_PIN18_DDRREG,CORE_PIN18_BIT
			cbi CORE_PIN18_PORTREG,CORE_PIN18_BIT
			rjmp ContinuePinMode
		cpi rmp2,19
		brne PC+4
			cbi CORE_PIN19_DDRREG,CORE_PIN19_BIT
			cbi CORE_PIN19_PORTREG,CORE_PIN19_BIT
			rjmp ContinuePinMode
		cpi rmp2,20
		brne PC+4
			cbi CORE_PIN20_DDRREG,CORE_PIN20_BIT
			cbi CORE_PIN20_PORTREG,CORE_PIN20_BIT
			rjmp ContinuePinMode
		cpi rmp2,21
		brne PC+4
			cbi CORE_PIN21_DDRREG,CORE_PIN21_BIT
			cbi CORE_PIN21_PORTREG,CORE_PIN21_BIT
			rjmp ContinuePinMode
		cpi rmp2,22
		brne PC+4
			cbi CORE_PIN22_DDRREG,CORE_PIN22_BIT
			cbi CORE_PIN22_PORTREG,CORE_PIN22_BIT
			rjmp ContinuePinMode
		cpi rmp2,23
		brne PC+4
			cbi CORE_PIN23_DDRREG,CORE_PIN23_BIT
			cbi CORE_PIN23_PORTREG,CORE_PIN23_BIT
			rjmp ContinuePinMode
		cpi rmp2,24
		brne PC+4
			cbi CORE_PIN24_DDRREG,CORE_PIN24_BIT
			cbi CORE_PIN24_PORTREG,CORE_PIN24_BIT
			rjmp ContinuePinMode
		cpi rmp2,25
		brne PC+4
			cbi CORE_PIN25_DDRREG,CORE_PIN25_BIT
			cbi CORE_PIN25_PORTREG,CORE_PIN25_BIT
			rjmp ContinuePinMode
		cpi rmp2,26
		brne PC+4
			cbi CORE_PIN26_DDRREG,CORE_PIN26_BIT
			cbi CORE_PIN26_PORTREG,CORE_PIN26_BIT
			rjmp ContinuePinMode
		cpi rmp2,27
		brne PC+4
			cbi CORE_PIN27_DDRREG,CORE_PIN27_BIT
			cbi CORE_PIN27_PORTREG,CORE_PIN27_BIT
			rjmp ContinuePinMode
		cpi rmp2,28
		brne PC+4
			cbi CORE_PIN28_DDRREG,CORE_PIN28_BIT
			cbi CORE_PIN28_PORTREG,CORE_PIN28_BIT
			rjmp ContinuePinMode
		cpi rmp2,29
		brne PC+4
			cbi CORE_PIN29_DDRREG,CORE_PIN29_BIT
			cbi CORE_PIN29_PORTREG,CORE_PIN29_BIT
			rjmp ContinuePinMode
		cpi rmp2,30
		brne PC+4
			cbi CORE_PIN30_DDRREG,CORE_PIN30_BIT
			cbi CORE_PIN30_PORTREG,CORE_PIN30_BIT
			rjmp ContinuePinMode
		cpi rmp2,31
		brne PC+4
			cbi CORE_PIN31_DDRREG,CORE_PIN31_BIT
			cbi CORE_PIN31_PORTREG,CORE_PIN31_BIT
			rjmp ContinuePinMode
		cpi rmp2,32
		brne PC+4
			cbi CORE_PIN32_DDRREG,CORE_PIN32_BIT
			cbi CORE_PIN32_PORTREG,CORE_PIN32_BIT
			rjmp ContinuePinMode
		cpi rmp2,33
		brne PC+4
			cbi CORE_PIN33_DDRREG,CORE_PIN33_BIT
			cbi CORE_PIN33_PORTREG,CORE_PIN33_BIT
			rjmp ContinuePinMode
		cpi rmp2,34
		brne PC+4
			cbi CORE_PIN34_DDRREG,CORE_PIN34_BIT
			cbi CORE_PIN34_PORTREG,CORE_PIN34_BIT
			rjmp ContinuePinMode
		cpi rmp2,35
		brne PC+4
			cbi CORE_PIN35_DDRREG,CORE_PIN35_BIT
			cbi CORE_PIN35_PORTREG,CORE_PIN35_BIT
			rjmp ContinuePinMode
		cpi rmp2,36
		brne PC+4
			cbi CORE_PIN36_DDRREG,CORE_PIN36_BIT
			cbi CORE_PIN36_PORTREG,CORE_PIN36_BIT
			rjmp ContinuePinMode
		cpi rmp2,37
		brne PC+4
			cbi CORE_PIN37_DDRREG,CORE_PIN37_BIT
			cbi CORE_PIN37_PORTREG,CORE_PIN37_BIT
			rjmp ContinuePinMode
		cpi rmp2,38
		brne PC+4
			cbi CORE_PIN38_DDRREG,CORE_PIN38_BIT
			cbi CORE_PIN38_PORTREG,CORE_PIN38_BIT
			rjmp ContinuePinMode
		cpi rmp2,39
		brne PC+4
			cbi CORE_PIN39_DDRREG,CORE_PIN39_BIT
			cbi CORE_PIN39_PORTREG,CORE_PIN39_BIT
			rjmp ContinuePinMode
		cpi rmp2,40
		brne PC+4
			cbi CORE_PIN40_DDRREG,CORE_PIN40_BIT
			cbi CORE_PIN40_PORTREG,CORE_PIN40_BIT
			rjmp ContinuePinMode
		cpi rmp2,41
		brne PC+4
			cbi CORE_PIN41_DDRREG,CORE_PIN41_BIT
			cbi CORE_PIN41_PORTREG,CORE_PIN41_BIT
			rjmp ContinuePinMode
		cpi rmp2,42
		brne PC+4
			cbi CORE_PIN42_DDRREG,CORE_PIN42_BIT
			cbi CORE_PIN42_PORTREG,CORE_PIN42_BIT
			rjmp ContinuePinMode
		cpi rmp2,43
		brne PC+4
			cbi CORE_PIN43_DDRREG,CORE_PIN43_BIT
			cbi CORE_PIN43_PORTREG,CORE_PIN43_BIT
			rjmp ContinuePinMode
		cpi rmp2,44
		brne PC+4
			cbi CORE_PIN44_DDRREG,CORE_PIN44_BIT
			cbi CORE_PIN44_PORTREG,CORE_PIN44_BIT
			rjmp ContinuePinMode
		cpi rmp2,45
		brne PC+4
			cbi CORE_PIN45_DDRREG,CORE_PIN45_BIT
			cbi CORE_PIN45_PORTREG,CORE_PIN45_BIT
			rjmp ContinuePinMode
	InputPullUpPinMode:
	cpi rmp3,INPUT_PULLUP
	breq InputPullUpPinModeSelect
		rjmp EndPinMode
	InputPullUpPinModeSelect:
		cpi rmp2,0
		brne PC+4
			cbi CORE_PIN0_DDRREG,CORE_PIN0_BIT
			sbi CORE_PIN0_PORTREG,CORE_PIN0_BIT
			rjmp ContinuePinMode
		cpi rmp2,1
		brne PC+4
			cbi CORE_PIN1_DDRREG,CORE_PIN1_BIT
			sbi CORE_PIN1_PORTREG,CORE_PIN1_BIT
			rjmp ContinuePinMode
		cpi rmp2,2
		brne PC+4
			cbi CORE_PIN2_DDRREG,CORE_PIN2_BIT
			sbi CORE_PIN2_PORTREG,CORE_PIN2_BIT
			rjmp ContinuePinMode
		cpi rmp2,3
		brne PC+4
			cbi CORE_PIN3_DDRREG,CORE_PIN3_BIT
			sbi CORE_PIN3_PORTREG,CORE_PIN3_BIT
			rjmp ContinuePinMode
		cpi rmp2,4
		brne PC+4
			cbi CORE_PIN4_DDRREG,CORE_PIN4_BIT
			sbi CORE_PIN4_PORTREG,CORE_PIN4_BIT
			rjmp ContinuePinMode
		cpi rmp2,5
		brne PC+4
			cbi CORE_PIN5_DDRREG,CORE_PIN5_BIT
			sbi CORE_PIN5_PORTREG,CORE_PIN5_BIT
			rjmp ContinuePinMode
		cpi rmp2,6
		brne PC+4
			cbi CORE_PIN6_DDRREG,CORE_PIN6_BIT
			sbi CORE_PIN6_PORTREG,CORE_PIN6_BIT
			rjmp ContinuePinMode
		cpi rmp2,7
		brne PC+4
			cbi CORE_PIN7_DDRREG,CORE_PIN7_BIT
			sbi CORE_PIN7_PORTREG,CORE_PIN7_BIT
			rjmp ContinuePinMode
		cpi rmp2,8
		brne PC+4
			cbi CORE_PIN8_DDRREG,CORE_PIN8_BIT
			sbi CORE_PIN8_PORTREG,CORE_PIN8_BIT
			rjmp ContinuePinMode
		cpi rmp2,9
		brne PC+4
			cbi CORE_PIN9_DDRREG,CORE_PIN9_BIT
			sbi CORE_PIN9_PORTREG,CORE_PIN9_BIT
			rjmp ContinuePinMode
		cpi rmp2,10
		brne PC+4
			cbi CORE_PIN10_DDRREG,CORE_PIN10_BIT
			sbi CORE_PIN10_PORTREG,CORE_PIN10_BIT
			rjmp ContinuePinMode
		cpi rmp2,11
		brne PC+4
			cbi CORE_PIN11_DDRREG,CORE_PIN11_BIT
			sbi CORE_PIN11_PORTREG,CORE_PIN11_BIT
			rjmp ContinuePinMode
		cpi rmp2,12
		brne PC+4
			cbi CORE_PIN12_DDRREG,CORE_PIN12_BIT
			sbi CORE_PIN12_PORTREG,CORE_PIN12_BIT
			rjmp ContinuePinMode
		cpi rmp2,13
		brne PC+4
			cbi CORE_PIN13_DDRREG,CORE_PIN13_BIT
			sbi CORE_PIN13_PORTREG,CORE_PIN13_BIT
			rjmp ContinuePinMode
		cpi rmp2,14
		brne PC+4
			cbi CORE_PIN14_DDRREG,CORE_PIN14_BIT
			sbi CORE_PIN14_PORTREG,CORE_PIN14_BIT
			rjmp ContinuePinMode
		cpi rmp2,15
		brne PC+4
			cbi CORE_PIN15_DDRREG,CORE_PIN15_BIT
			sbi CORE_PIN15_PORTREG,CORE_PIN15_BIT
			rjmp ContinuePinMode
		cpi rmp2,16
		brne PC+4
			cbi CORE_PIN16_DDRREG,CORE_PIN16_BIT
			sbi CORE_PIN16_PORTREG,CORE_PIN16_BIT
			rjmp ContinuePinMode
		cpi rmp2,17
		brne PC+4
			cbi CORE_PIN17_DDRREG,CORE_PIN17_BIT
			sbi CORE_PIN17_PORTREG,CORE_PIN17_BIT
			rjmp ContinuePinMode
		cpi rmp2,18
		brne PC+4
			cbi CORE_PIN18_DDRREG,CORE_PIN18_BIT
			sbi CORE_PIN18_PORTREG,CORE_PIN18_BIT
			rjmp ContinuePinMode
		cpi rmp2,19
		brne PC+4
			cbi CORE_PIN19_DDRREG,CORE_PIN19_BIT
			sbi CORE_PIN19_PORTREG,CORE_PIN19_BIT
			rjmp ContinuePinMode
		cpi rmp2,20
		brne PC+4
			cbi CORE_PIN20_DDRREG,CORE_PIN20_BIT
			sbi CORE_PIN20_PORTREG,CORE_PIN20_BIT
			rjmp ContinuePinMode
		cpi rmp2,21
		brne PC+4
			cbi CORE_PIN21_DDRREG,CORE_PIN21_BIT
			sbi CORE_PIN21_PORTREG,CORE_PIN21_BIT
			rjmp ContinuePinMode
		cpi rmp2,22
		brne PC+4
			cbi CORE_PIN22_DDRREG,CORE_PIN22_BIT
			sbi CORE_PIN22_PORTREG,CORE_PIN22_BIT
			rjmp ContinuePinMode
		cpi rmp2,23
		brne PC+4
			cbi CORE_PIN23_DDRREG,CORE_PIN23_BIT
			sbi CORE_PIN23_PORTREG,CORE_PIN23_BIT
			rjmp ContinuePinMode
		cpi rmp2,24
		brne PC+4
			cbi CORE_PIN24_DDRREG,CORE_PIN24_BIT
			sbi CORE_PIN24_PORTREG,CORE_PIN24_BIT
			rjmp ContinuePinMode
		cpi rmp2,25
		brne PC+4
			cbi CORE_PIN25_DDRREG,CORE_PIN25_BIT
			sbi CORE_PIN25_PORTREG,CORE_PIN25_BIT
			rjmp ContinuePinMode
		cpi rmp2,26
		brne PC+4
			cbi CORE_PIN26_DDRREG,CORE_PIN26_BIT
			sbi CORE_PIN26_PORTREG,CORE_PIN26_BIT
			rjmp ContinuePinMode
		cpi rmp2,27
		brne PC+4
			cbi CORE_PIN27_DDRREG,CORE_PIN27_BIT
			sbi CORE_PIN27_PORTREG,CORE_PIN27_BIT
			rjmp ContinuePinMode
		cpi rmp2,28
		brne PC+4
			cbi CORE_PIN28_DDRREG,CORE_PIN28_BIT
			sbi CORE_PIN28_PORTREG,CORE_PIN28_BIT
			rjmp ContinuePinMode
		cpi rmp2,29
		brne PC+4
			cbi CORE_PIN29_DDRREG,CORE_PIN29_BIT
			sbi CORE_PIN29_PORTREG,CORE_PIN29_BIT
			rjmp ContinuePinMode
		cpi rmp2,30
		brne PC+4
			cbi CORE_PIN30_DDRREG,CORE_PIN30_BIT
			sbi CORE_PIN30_PORTREG,CORE_PIN30_BIT
			rjmp ContinuePinMode
		cpi rmp2,31
		brne PC+4
			cbi CORE_PIN31_DDRREG,CORE_PIN31_BIT
			sbi CORE_PIN31_PORTREG,CORE_PIN31_BIT
			rjmp ContinuePinMode
		cpi rmp2,32
		brne PC+4
			cbi CORE_PIN32_DDRREG,CORE_PIN32_BIT
			sbi CORE_PIN32_PORTREG,CORE_PIN32_BIT
			rjmp ContinuePinMode
		cpi rmp2,33
		brne PC+4
			cbi CORE_PIN33_DDRREG,CORE_PIN33_BIT
			sbi CORE_PIN33_PORTREG,CORE_PIN33_BIT
			rjmp ContinuePinMode
		cpi rmp2,34
		brne PC+4
			cbi CORE_PIN34_DDRREG,CORE_PIN34_BIT
			sbi CORE_PIN34_PORTREG,CORE_PIN34_BIT
			rjmp ContinuePinMode
		cpi rmp2,35
		brne PC+4
			cbi CORE_PIN35_DDRREG,CORE_PIN35_BIT
			sbi CORE_PIN35_PORTREG,CORE_PIN35_BIT
			rjmp ContinuePinMode
		cpi rmp2,36
		brne PC+4
			cbi CORE_PIN36_DDRREG,CORE_PIN36_BIT
			sbi CORE_PIN36_PORTREG,CORE_PIN36_BIT
			rjmp ContinuePinMode
		cpi rmp2,37
		brne PC+4
			cbi CORE_PIN37_DDRREG,CORE_PIN37_BIT
			sbi CORE_PIN37_PORTREG,CORE_PIN37_BIT
			rjmp ContinuePinMode
		cpi rmp2,38
		brne PC+4
			cbi CORE_PIN38_DDRREG,CORE_PIN38_BIT
			sbi CORE_PIN38_PORTREG,CORE_PIN38_BIT
			rjmp ContinuePinMode
		cpi rmp2,39
		brne PC+4
			cbi CORE_PIN39_DDRREG,CORE_PIN39_BIT
			sbi CORE_PIN39_PORTREG,CORE_PIN39_BIT
			rjmp ContinuePinMode
		cpi rmp2,40
		brne PC+4
			cbi CORE_PIN40_DDRREG,CORE_PIN40_BIT
			sbi CORE_PIN40_PORTREG,CORE_PIN40_BIT
			rjmp ContinuePinMode
		cpi rmp2,41
		brne PC+4
			cbi CORE_PIN41_DDRREG,CORE_PIN41_BIT
			sbi CORE_PIN41_PORTREG,CORE_PIN41_BIT
			rjmp ContinuePinMode
		cpi rmp2,42
		brne PC+4
			cbi CORE_PIN42_DDRREG,CORE_PIN42_BIT
			sbi CORE_PIN42_PORTREG,CORE_PIN42_BIT
			rjmp ContinuePinMode
		cpi rmp2,43
		brne PC+4
			cbi CORE_PIN43_DDRREG,CORE_PIN43_BIT
			sbi CORE_PIN43_PORTREG,CORE_PIN43_BIT
			rjmp ContinuePinMode
		cpi rmp2,44
		brne PC+4
			cbi CORE_PIN44_DDRREG,CORE_PIN44_BIT
			sbi CORE_PIN44_PORTREG,CORE_PIN44_BIT
			rjmp ContinuePinMode
		cpi rmp2,45
		brne PC+4
			cbi CORE_PIN45_DDRREG,CORE_PIN45_BIT
			sbi CORE_PIN45_PORTREG,CORE_PIN45_BIT
			rjmp ContinuePinMode
	rjmp EndPinMode
	ContinuePinMode:
		cpi rmp2,38
		brne PC+7
			andOnPortStsi DIDR0,~0x01
			rjmp EndPinMode
		cpi rmp2,39
		brne PC+7
			andOnPortStsi DIDR0,~0x02
			rjmp EndPinMode
		cpi rmp2,40
		brne PC+7
			andOnPortStsi DIDR0,~0x04
			rjmp EndPinMode
		cpi rmp2,41
		brne PC+7
			andOnPortStsi DIDR0,~0x08
			rjmp EndPinMode
		cpi rmp2,42
		brne PC+7
			andOnPortStsi DIDR0,~0x10
			rjmp EndPinMode
		cpi rmp2,43
		brne PC+7
			andOnPortStsi DIDR0,~0x20
			rjmp EndPinMode
		cpi rmp2,44
		brne PC+7
			andOnPortStsi DIDR0,~0x40
			rjmp EndPinMode
		cpi rmp2,45
		brne PC+7
			andOnPortStsi DIDR0,~0x80
			rjmp EndPinMode
	EndPinMode:
	ret

#endif
